// TimesheetModern.module.scss
// Main stylesheet for the Timesheet Modern application
// FIXED: SPFx-safe white screen fix

* {
  box-sizing: border-box;
}

:root {
  --primary: #0066FF;
  --primary-dark: #0052CC;
  --primary-light: #4D94FF;
  --success: #00C853;
  --warning: #FFA726;
  --danger: #FF5252;
  --info: #29B6F6;
  --bg-main: #F8F9FA;
  --bg-card: #FFFFFF;
  --text-primary: #1A1A1A;
  --text-secondary: #666;
  --text-light: #999;
  --border: #E5E7EB;
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 2px 6px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 3px 12px rgba(0, 0, 0, 0.08);
  --timesheet-color: #7B1FA2;
  --leave-color: #FFA726;
  --project-color: #00C853;
  --attendance-color: #0066FF;
  --holiday-color: #9C27B0;
  --weekend-color: #D9D9D9;
  --sick-leave: #FFCDD2;
  --casual-leave: #C8E6C9;
  --earned-leave: #BBDEFB;
  --font-xs: 11px;
  --font-sm: 12px;
  --font-base: 13px;
  --font-lg: 14px;
  --font-xl: 16px;
  --radius-sm: 4px;
  --radius-base: 6px;
  --radius-lg: 8px;
}

/* =====================================================
   SPFX-SAFE WHITE SCREEN FIX
   ===================================================== 
   
   IMPORTANT: These selectors are carefully chosen to:
   1. Hide SharePoint chrome elements
   2. NOT interfere with SPFx rendering
   3. Prevent white space issues
   
   DO NOT add global html/body resets here!
*/

/* =====================================================
   SPFx WHITE SPACE FIX - FINAL SOLUTION
   Append this at the BOTTOM of TimesheetModern.module.scss
   ===================================================== */

/* =====================================================
   SPFx WHITE SCREEN FIX - WORKING SOLUTION
   Place at BOTTOM of TimesheetModern.module.scss
   ===================================================== */

// /* Target global SharePoint elements */
// :global {
//   /* Hide SharePoint suite bar and navigation */
//   #SuiteNavWrapper,
//   #suiteBarLeft,
//   #suiteBar,
//   .ms-HubNav,
//   div[data-automation-id="pageHeader"],
//   .ms-CommandBar,
//   #DeltaPlaceHolderPageTitleInTitleArea {
//     display: none !important;
//     height: 0 !important;
//     min-height: 0 !important;
//     visibility: hidden !important;
//   }

//   /* Remove all canvas and page padding */
//   #workbenchPageContent,
//   .SPPageChrome,
//   .SPCanvas,
//   .CanvasZone,
//   .CanvasSection,
//   .CanvasSection-xl12,
//   .SPCanvasContent,
//   #contentRow,
//   .ControlZone,
//   .ms-webpart-zone,
//   .ms-webpartPage-root,
//   #s4-workspace,
//   #s4-bodyContainer {
//     padding: 0 !important;
//     margin: 0 !important;
//   }

//   /* Force web part container to full height */
//   div[data-automation-id="CanvasControl"],
//   div[data-sp-webpart] {
//     padding: 0 !important;
//     margin: 0 !important;
//     min-height: 100vh !important;
//   }

//   /* Remove footer */
//   footer,
//   .ms-footer,
//   div[data-sp-feature-tag="Footer"] {
//     display: none !important;
//     height: 0 !important;
//   }

//   /* Force body/html to full height */
//   html,
//   body {
//     margin: 0 !important;
//     padding: 0 !important;
//     height: 100% !important;
//   }

//   /* Fix canvas */
//   .SPCanvas-canvas {
//     min-height: 100vh !important;
//     padding: 0 !important;
//   }

//   /* Hide page chrome */
//   #spPageChromeAppDiv {
//     display: none !important;
//   }
// }

/* Ensure web part root takes full space */
.timesheetModern {
  min-height: 100vh;
  width: 100%;
  margin: 0;
  padding: 0;
  display: block;
  position: relative;
  background: var(--bg-main); /* Add background color */
}

// NEW: Style for count inside legend boxes
.legendColor {
  width: 40px; // âœ… INCREASED to fit count
  height: 20px; // âœ… INCREASED for better visibility
  border-radius: 3px;
  border: 1px solid;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-primary);
}

.legendCount {
  font-size: 11px;
  font-weight: 700;
  color: #495057;
}

.disabledMessage {
  text-align: center;
  padding: 0.5rem;
  color: var(--danger);
  font-size: var(--font-xs);
  font-weight: 600;
  background: #FFEBEE;
  border-radius: var(--radius-sm);
  margin-top: 0.5rem;
}
// Top Navigation
.topNav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 48px;
  background: var(--bg-card);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  padding: 0 1.25rem;
  z-index: 100;
  box-shadow: var(--shadow-sm);
  width: 100%;
  margin: 0;
}

.logo {
  font-size: var(--font-lg);
  font-weight: 700;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: 0.375rem;
  cursor: pointer;
}

.logoIcon {
  width: 160px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: flex-start;

  img {
    height: 100%;
    width: auto;
    object-fit: contain;
    max-width: 100%;
  }
}

.copyBtn {
  color: var(--info);
  border: 1px solid var(--info);

  &:hover {
    background: var(--info);
    color: white;
  }
}

.topNavRight {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.userProfile {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  border-radius: var(--radius-base);
  transition: background 0.2s;

  &:hover {
    background: var(--bg-main);
  }
}

.userAvatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 600;
  font-size: var(--font-sm);
}

.userName {
  font-weight: 600;
  font-size: var(--font-sm);
}

// Sidebar
.sidebar {
  position: fixed;
  left: 0;
  top: 48px;
  width: 200px;
  height: calc(100vh - 48px);
  background: var(--bg-card);
  border-right: 1px solid var(--border);
  padding: 1rem 0;
  overflow-y: auto;
  transition: transform 0.3s ease;
  z-index: 90;

  &.hidden {
    transform: translateX(-100%);
  }
}

.sidebarSection {
  margin-bottom: 1.5rem;
  padding: 0 0.75rem;
}

.sidebarTitle {
  font-size: var(--font-xs);
  font-weight: 600;
  text-transform: uppercase;
  color: var(--text-light);
  margin-bottom: 0.5rem;
  letter-spacing: 0.3px;
}

.sidebarMenu {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebarItem {
  margin-bottom: 0.125rem;
}

.sidebarLink {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  color: var(--text-secondary);
  text-decoration: none;
  border-radius: var(--radius-base);
  font-size: var(--font-sm);
  font-weight: 500;
  transition: all 0.2s;
  cursor: pointer;

  &:hover {
    background: var(--bg-main);
    color: var(--text-primary);
  }

  &.active {
    background: var(--primary);
    color: white;
  }
}

.sidebarIcon {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-base);
}

// Main Content
.mainContent {
  margin-left: 200px;
  margin-top: 48px;
  padding: 1.25rem;
  width: calc(100% - 200px);
  transition: margin-left 0.3s ease, width 0.3s ease;
  min-height: calc(100vh - 48px);
  overflow-x: hidden;
    overflow-y: auto; // âœ… ONLY scroll here


  &.fullWidth {
    margin-left: 0;
    width: 100%;
  }
}

// View Container
.viewContainer {
  display: block;
  animation: fadeIn 0.3s ease-out;
  width: 100%;
  max-width: 100%;
   overflow-x: hidden; // âœ… Prevent horizontal scroll
  overflow-y: auto; // âœ… Only vertical scroll at page level
  // max-height: calc(100vh - 48px); // âœ… Account for top nav
    max-height: none; // âœ… CHANGED: Remove height limit

}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Dashboard Header
.dashboardHeader {
  margin-bottom: 0.75rem;

  h1 {
    font-size: var(--font-xl);
    font-weight: 700;
    margin-bottom: 0.15rem;
  }

  p {
    color: var(--text-secondary);
    font-size: var(--font-sm);
        margin-bottom: 0; // REMOVED margin

  }
}

// Welcome Container
.welcomeContainer {
  max-width: 1200px;
  margin: 0 auto;
}

.welcomeHeader {
  text-align: center;
  margin-bottom: 1.5rem;
  padding: 1rem;
  background: white;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-sm);

  h1 {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
  }

  p {
    color: var(--text-secondary);
    font-size: var(--font-base);
    margin-bottom: 0.75rem;
  }
}

.welcomeStats {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-top: 0.75rem;
}

.welcomeStat {
  text-align: center;
}

.welcomeStatValue {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--primary);
}

.welcomeStatLabel {
  font-size: var(--font-xs);
  color: var(--text-light);
  margin-top: 0.25rem;
}

// Action Cards Grid
.actionGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(196px, 1fr));
  gap: 0.7rem;
  margin-bottom: 1.5rem;
}

.actionCard {
  background: white;
  border-radius: var(--radius-lg);
  padding: 1.05rem;
  border: 1px solid var(--border);
  transition: all 0.2s;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  height: 175px;

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary);
  }

  &.attendance {
    border-top: 3px solid var(--attendance-color);
  }

  &.leave {
    border-top: 3px solid var(--leave-color);
  }

  &.timesheet {
    border-top: 3px solid var(--timesheet-color);
  }

  &.rationalize {
    border-top: 3px solid var(--warning);
  }

  &.approval {
    border-top: 3px solid var(--info);
  }
}

.actionIcon {
  width: 33.6px;
  height: 33.6px;
  border-radius: var(--radius-base);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.05rem;
  margin-bottom: 0.7rem;

  .attendance & {
    background: linear-gradient(135deg, var(--attendance-color) 0%, var(--primary-dark) 100%);
    color: white;
  }

  .leave & {
    background: linear-gradient(135deg, var(--leave-color) 0%, #FB8C00 100%);
    color: white;
  }

  .timesheet & {
    background: linear-gradient(135deg, var(--timesheet-color) 0%, #9C27B0 100%);
    color: white;
  }

  .rationalize & {
    background: linear-gradient(135deg, var(--warning) 0%, #F57C00 100%);
    color: white;
  }

  .approval & {
    background: linear-gradient(135deg, var(--info) 0%, #0288D1 100%);
    color: white;
  }
}

.actionTitle {
  font-size: var(--font-sm);
  font-weight: 600;
  margin-bottom: 0.35rem;
  color: var(--text-primary);
}

.actionDesc {
  color: var(--text-secondary);
  font-size: 10.5px;
  margin-bottom: 0.7rem;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.actionStats {
  display: flex;
  gap: 0.525rem;
  margin-top: 0.35rem;
}

.actionStat {
  text-align: center;
}

.actionStatValue {
  font-size: 0.99rem;
  font-weight: 700;

  .attendance & {
    color: var(--attendance-color);
  }

  .leave & {
    color: var(--leave-color);
  }

  .timesheet & {
    color: var(--timesheet-color);
  }

  .rationalize & {
    color: var(--warning);
  }

  .approval & {
    color: var(--info);
  }
}

.actionStatLabel {
  font-size: var(--font-xs);
  color: var(--text-light);
  margin-top: 0.125rem;
}

.calendarContainer {
  background: white;
  border-radius: 12px; // âœ… More rounded
  padding: 24px; // âœ… More breathing room
  border: 1px solid #DEE2E6; // âœ… Softer border
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04); // âœ… Subtle shadow
  max-height: none;
  overflow: visible;
}


// Reduce loader container height (if using custom loader)
.loadingContainer {
  padding: 1rem; // REDUCED from 2rem
  text-align: center;
}

.calendarHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  // margin-bottom: 20px; // âœ… More spacing
  padding-bottom: 4px; // âœ… More padding
  border-bottom: 2px solid #F1F3F5; // âœ… Thicker separator
}

.calendarMonth {
  font-size: 18px; // âœ… Larger
  font-weight: 700;
  min-width: 180px;
  text-align: center;
  color: #212529;
  letter-spacing: -0.3px; // âœ… Tighter
}

.navBtn {
  width: 36px; // âœ… Larger
  height: 33px;
  border-radius: 8px; // âœ… More rounded
  border: 1px solid #DEE2E6;
  background: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  font-size: 12px;
  color: #495057;
  
  &:hover:not(:disabled) {
    background: #0B5ED7; // âœ… Brand color
    border-color: #0B5ED7;
    color: white;
    box-shadow: 0 2px 6px rgba(11, 94, 215, 0.2);
    transform: scale(1.05);
  }
  
  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
}
.calendarActions {
  display: flex;
  gap: 0.5rem;
}

.calendarGrid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 3px;
   // âœ… ADDED: Prevent calendar from causing scroll
  min-height: auto;
  max-height: none;
  overflow: visible; // âœ… Let parent handle scrolling naturally
}

.calendarDayHeader {
  text-align: center;
  font-weight: 600;
  font-size: 11px;
  color: var(--text-secondary);
  padding: 8px 0;
  text-transform: uppercase;
}
.attendanceModalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.3); // Lighter overlay
  backdrop-filter: blur(4px); // âœ… Modern blur effect
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  animation: fadeIn 0.2s ease-out; // âœ… Smooth entry
}


.attendanceModal {
  width: 460px; // Slightly wider
  max-width: 95vw; // Responsive
  background: #ffffff;
  border-radius: 16px; // âœ… More rounded
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.15), // âœ… Softer shadow
    0 0 0 1px rgba(0, 0, 0, 0.05); // Subtle border
  overflow: hidden;
  animation: slideUp 0.3s ease-out; // âœ… Slide-up animation
}

// âœ… Smooth animations
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}


/* Enhanced Header */
.modalHeader {
  padding: 20px 24px;
  font-weight: 600;
  font-size: 17px; // Slightly larger
  color: #ffffff;
  background: linear-gradient(135deg, #0B5ED7 0%, #084298 100%); // âœ… Gradient
  letter-spacing: -0.2px; // âœ… Tighter spacing
  display: flex;
  align-items: center;
  gap: 10px;
  
  &::before {
    content: 'ðŸ“…'; // Icon for context
    font-size: 20px;
  }
}

/* Enhanced Body */
.modalBody {
  padding: 24px;
  background: #F8F9FA; // âœ… Subtle background
}

.infoRow {
  display: flex;
  justify-content: space-between;
  align-items: center; // âœ… Better alignment
  padding: 12px 16px; // âœ… More padding
  margin-bottom: 8px;
  font-size: 14px;
  color: #212529;
  background: white; // âœ… White cards
  border-radius: 8px; // âœ… Rounded
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); // âœ… Subtle depth
  transition: all 0.2s ease;
  
  &:hover {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08); // âœ… Hover effect
    transform: translateX(2px);
  }
  
  &:last-child {
    margin-bottom: 0;
  }
  
  span {
    color: #6C757D;
    font-weight: 500; // âœ… Semi-bold labels
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
  }
  
  strong {
    font-weight: 600;
    color: #212529;
    font-size: 15px;
  }
}

/* Enhanced Actions */
.modalActions {
  padding: 20px 24px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  background: white; // âœ… Clean background
  border-top: 1px solid #E9ECEF; // âœ… Subtle separator
}

.primaryBtn {
  background: linear-gradient(135deg, #0B5ED7 0%, #084298 100%); // âœ… Gradient
  color: #ffffff;
  border: none;
  padding: 13px 20px;
  border-radius: 10px; // âœ… More rounded
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(11, 94, 215, 0.25); // âœ… Shadow
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  
  &:hover {
    background: linear-gradient(135deg, #084298 0%, #052c65 100%);
    box-shadow: 0 4px 12px rgba(11, 94, 215, 0.35);
    transform: translateY(-1px);
  }
  
  &:active {
    transform: translateY(0);
  }
}

.warningBtn {
  background: linear-gradient(135deg, #F39C12 0%, #E67E22 100%); // âœ… Gradient
  color: #ffffff;
  border: none;
  padding: 13px 20px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(243, 156, 18, 0.25);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  
  &:hover {
    background: linear-gradient(135deg, #E67E22 0%, #d68910 100%);
    box-shadow: 0 4px 12px rgba(243, 156, 18, 0.35);
    transform: translateY(-1px);
  }
}

.cancelBtn {
  margin-top: 4px;
  background: transparent;
  border: none;
  color: #6C757D;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  padding: 8px;
  border-radius: 6px;
  transition: all 0.2s ease;
  
  &:hover {
    background: #F8F9FA;
    color: #495057;
  }
}

.calendarDay {
  width: 90%;
  min-height: 70px; // âœ… Slightly taller
  max-height: 70px;
  border-radius: 10px; // âœ… More rounded
  padding: 6px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid #E9ECEF; // âœ… Softer border
  background: white;
  position: relative;
  overflow: hidden;
  
  &:hover:not(.empty) {
    transform: translateY(-2px) scale(1.02); // âœ… Better hover
    z-index: 5;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12); // âœ… Deeper shadow
    border-color: #0B5ED7; // âœ… Highlight border
  }
  
  // âœ… Status-specific improvements
  &.present {
    background: linear-gradient(135deg, #F0F9F0 0%, #E8F5E9 100%);
    border-color: #66BB6A;
  }
  
  &.absent {
    background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);
    border-color: #EF5350;
  }
  
  &.holiday {
    background: linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 100%);
    border-color: #AB47BC;
  }
  
  &.leave {
    background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
    border-color: #FFA726;
  }
  
  &.weekend {
    background: #F8F9FA;
    opacity: 0.8;
    cursor: default;
  }
  
  &.today {
    border-width: 2px;
    border-color: #0B5ED7;
    box-shadow: 
      0 0 0 3px rgba(11, 94, 215, 0.15), // âœ… Glow effect
      0 2px 8px rgba(0, 0, 0, 0.1);
  }
}


.dayTopSection {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  z-index: 2;
}

.dayNumber {
  font-size: 13px; // âœ… Slightly larger
  font-weight: 700;
  color: #212529;
  text-align: center;
  line-height: 1.2;
  margin-bottom: 3px;
}

.dayStatus {
  font-size: 10px;
  font-weight: 700; // âœ… Bolder
  text-transform: uppercase;
  letter-spacing: 0.5px; // âœ… More spacing
  padding: 2px 6px; // âœ… Pill shape
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.9);
  margin-bottom: 2px;
  text-align: center;
  line-height: 1.2;
}
.dayTotalHours {
  font-size: 9px;
  font-weight: 600;
  color: var(--timesheet-color);
  text-align: center;
  line-height: 1.2;
  margin-top: 2px;
  padding: 1px 3px;
  background: rgba(123, 31, 162, 0.1);
  border-radius: 2px;
  width: 100%;
  z-index: 2;
}

.dayTime {
  font-size: 9px;
  color: var(--text-secondary);
  text-align: center;
  line-height: 1.2;
  margin-top: 1px;
  z-index: 2;
}

.timesheetProgressBar {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: #e0e0e0;
  border-radius: 0 0 4px 4px;
  overflow: hidden;
}

.timesheetProgressFill {
  height: 100%;
  transition: width 0.3s ease;
  background: transparent;

  &.filled {
    background: #00C853 !important;
  }

  &.partial {
    background: #FFA726 !important;
  }

  &.notFilled {
    background: #FFD54F !important;
  }
}

.leaveIndicator {
  position: absolute;
  bottom: 17px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 9px;
  font-weight: 600;
  padding: 1px 3px;
  border-radius: 2px;
  white-space: nowrap;
  line-height: 1.2;
  z-index: 2;
}

.sickLeaveIndicator {
  background: #FFCDD2;
  color: #C62828;
}

.casualLeaveIndicator {
  background: #C8E6C9;
  color: #2E7D32;
}

.earnedLeaveIndicator {
  background: #BBDEFB;
  color: #1565C0;
}
.legendlabel {
  font-size: 10px;
  color: var(--text-secondary);
  text-align: center;
  // line-height: 1.2;
  // margin-top: 2px;
  margin-left: 5px;
}
.calendarLegend {
  display: flex;
  flex-wrap: wrap;
  gap: 6px; // âœ… More spacing
  // margin-top: 20px;
  padding-top: 16px;
  border-top: 2px solid #F1F3F5;
  font-size: 12px;
}

.legendItem {
  display: flex;
  align-items: center;
  // gap: 8px;
  font-size: 8px;
  padding: 6px 12px; // âœ… Pill shape
  background: #F8F9FA;
  border-radius: 20px;
  transition: all 0.2s ease;
  
  &:hover {
    background: #E9ECEF;
    transform: translateY(-1px);
  }
}

.legendColor {
   width: 18px; // âœ… Larger
  height: 24px;
  border-radius: 6px; // âœ… Rounded
  border: 2px solid; // âœ… Thicker border
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: normal;
  color: var(--text-primary);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); // âœ… Subtle depth

  &.present {
    background: #F0F9F0;
    border-color: var(--success);
  }

  &.absent {
    background: #FFEBEE;
    border-color: var(--danger);
  }

  &.holiday {
    background: #F3E5F5;
    border-color: var(--holiday-color);
  }

  &.leave {
    background: #FFF3E0;
    border-color: var(--warning);
  }

  &.weekend {
    background: var(--weekend-color);
    border-color: #856404;
  }

  &.sickLeave {
    background: #FFCDD2;
    border-color: #C62828;
  }

  &.casualLeave {
    background: #C8E6C9;
    border-color: #2E7D32;
  }

  &.earnedLeave {
    background: #BBDEFB;
    border-color: #1565C0;
  }

  &.progressFilled {
    background: #00C853 !important;
    border-color: #00C853 !important;
  }

  &.progressPartial {
    background: #FFA726 !important;
    border-color: #FFA726 !important;
  }

  &.progressNotFilled {
    background: #808080 !important;
    border-color: #808080 !important;
  }
}

// Buttons
.btn {
  padding: 0.375rem 0.75rem;
  border-radius: var(--radius-base);
  font-weight: 600;
  font-size: var(--font-sm);
  cursor: pointer;
  transition: all 0.2s;
  border: none;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.btnPrimary {
  background: linear-gradient(135deg, #0B5ED7 0%, #084298 100%);
  color: white;
  padding: 6px 20px;
  border-radius: 10px;
  font-weight: 400;
  font-size: 12px;
  box-shadow: 0 2px 8px rgba(11, 94, 215, 0.25);
  transition: all 0.2s ease;
  
  &:hover:not(:disabled) {
    background: linear-gradient(135deg, #084298 0%, #052c65 100%);
    box-shadow: 0 4px 12px rgba(11, 94, 215, 0.35);
    transform: translateY(-1px);
  }
}

.btnOutline {
  background: white;
  color: #495057;
  border: 2px solid #DEE2E6;
  padding: 6px 20px;
  border-radius: 10px;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.2s ease;
  
  &:hover:not(:disabled) {
    background: #F8F9FA;
    border-color: #ADB5BD;
    transform: translateY(-1px);
  }
}
.calendarNavigation{
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  justify-content: center;
}
.btnSuccess {
  background: var(--success);
  color: white;

  &:hover:not(:disabled) {
    background: #00E676;
  }
}

.btnDanger {
  background: var(--danger);
  color: white;

  &:hover:not(:disabled) {
    background: #FF6E40;
  }
}

.btnPurple {
  background: var(--timesheet-color);
  color: white;

  &:hover:not(:disabled) {
    background: #6A1B9A;
    transform: translateY(-1px);
  }
}

.btnSmall {
  padding: 0.25rem 0.5rem;
  font-size: var(--font-xs);
}

// Forms
.formContainer {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  border: 1px solid var(--border);
  max-width: 600px;
}

.formGroup {
  margin-bottom: 1rem;
}

.formLabel {
  display: block;
  font-weight: 600;
  margin-bottom: 0.25rem;
  color: var(--text-primary);
  font-size: var(--font-sm);
}

.formInput,
.formSelect,
.formTextarea {
  width: 100%;
  padding: 0.5rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-base);
  font-family: inherit;
  font-size: var(--font-sm);
  transition: all 0.2s;
  background: white;

  &:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(0, 102, 255, 0.1);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background: var(--bg-main);
  }
}

.formTextarea {
  min-height: 80px;
  resize: vertical;
}

.formActions {
  display: flex;
  gap: 0.5rem;
  margin-top: 1.25rem;
}

.formRow {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.formRow3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1rem;
}

.radioGroup {
  display: flex;
  gap: 1.5rem;
  margin-bottom: 1rem;
}

.radioOption {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;

  input[type="radio"] {
    margin: 0;
  }
}

.radioLabel {
  font-weight: 600;
  color: var(--text-primary);
}

.timeBasedFields {
  display: none;
  margin-top: 1rem;
  padding: 1rem;
  background: var(--bg-main);
  border-radius: var(--radius-base);
  border: 1px solid var(--border);

  &.active {
    display: block;
  }
}

// Timesheet
.timesheetContainer {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  border: 1px solid var(--border);
   max-height: none; // âœ… REMOVED height limit
  overflow-y: visible; // âœ… REMOVED scroll
  // max-height: calc(100vh - 180px);
  // overflow-y: auto;
}

.timesheetHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--border);

  h3 {
    font-size: var(--font-lg);
    font-weight: 600;
    margin-bottom: 0.125rem;
  }

  p {
    color: var(--text-secondary);
    font-size: var(--font-sm);
  }
}

.timesheetActions {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.weekNavigation {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  justify-content: center;
  background: white;
  padding: 0.5rem;
  border-radius: var(--radius-base);
  border: 1px solid var(--border);
}

.weekNavBtn {
  padding: 0.375rem 0.75rem;
  border-radius: var(--radius-base);
  border: 1px solid var(--border);
  background: white;
  cursor: pointer;
  transition: all 0.2s;
  font-weight: 600;
  font-size: var(--font-sm);

  &:hover:not(:disabled) {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.weekDisplay {
  font-weight: 600;
  min-width: 180px;
  text-align: center;
}

.availableHoursDisplay {
  background: #E8F5E9;
  padding: 0.375rem 0.75rem;
  border-radius: var(--radius-base);
  font-size: var(--font-sm);
  font-weight: 600;
  color: #2E7D32;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;

  &.availableHoursWarning {
    background: #FFEBEE;
    color: #C62828;
  }
}

.timesheetGrid {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  max-height: none;
  overflow-y: visible;
  padding-right: 0;
}

.timesheetDay {
  background: white;
  border-radius: var(--radius-base);
  padding: 0.75rem;
  border: 1px solid var(--border);

  &.todayHighlight {
    border-left: 4px solid var(--primary);
    background: rgba(0, 102, 255, 0.03);
    order: -1;
  }

  &.disabledDay {
    opacity: 0.6;
    background: var(--weekend-color);

    .addEntryBtn {
      display: none;
    }

    .dayStatusBadge {
      background: #B0BEC5;
      color: #546E7A;
    }
  }
}

.timesheetDayHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border);
}

.dayInfo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.dayDate {
  font-weight: 600;
  font-size: var(--font-sm);
  color: var(--text-primary);
}

.dayStatusBadge {
  padding: 0.125rem 0.375rem;
  border-radius: 10px;
  font-size: var(--font-xs);
  font-weight: 600;
  background: var(--bg-main);
  color: var(--text-secondary);

  &.pending {
    background: #FFF3E0;
    color: #E65100;
  }

  &.submitted {
    background: #E8F5E9;
    color: #1B5E20;
  }
}

.dayTotal {
  font-weight: 700;
  color: var(--primary);
  font-size: var(--font-sm);
}

.timesheetEntries {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.timesheetEntry {
  background: var(--bg-main);
  border-radius: var(--radius-sm);
  padding: 0.5rem;
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.entryHeader {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 0.5rem;
}

.projectName {
  font-weight: 600;
  color: var(--text-primary);
  font-size: var(--font-sm);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1;
}

.entryHours {
  font-weight: 700;
  color: var(--timesheet-color);
  font-size: var(--font-sm);
  background: white;
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  border: 1px solid var(--timesheet-color);
  min-width: 45px;
  text-align: center;
}

.entryDescription {
  font-size: var(--font-xs);
  color: var(--text-secondary);
  line-height: 1.3;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.entryActions {
  display: flex;
  gap: 0.25rem;
  margin-top: 0.25rem;
  justify-content: flex-end;
}

.entryActionBtn {
  padding: 0.125rem 0.375rem;
  border-radius: 3px;
  border: none;
  background: white;
  color: var(--text-secondary);
  font-size: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.125rem;
  transition: all 0.2s;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);

  &:hover:not(:disabled) {
    transform: translateY(-1px);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  &.editBtn {
    color: var(--primary);
    border: 1px solid var(--primary);

    &:hover:not(:disabled) {
      background: var(--primary);
      color: white;
    }
  }

  &.deleteBtn {
    color: var(--danger);
    border: 1px solid var(--danger);

    &:hover:not(:disabled) {
      background: var(--danger);
      color: white;
    }
  }
}

.addEntryBtn {
  width: 100%;
  padding: 0.5rem;
  border: 1px dashed var(--border);
  border-radius: var(--radius-sm);
  background: transparent;
  color: var(--text-secondary);
  font-weight: 600;
  font-size: var(--font-xs);
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  margin-top: 0.5rem;

  &:hover:not(:disabled) {
    border-color: var(--timesheet-color);
    color: var(--timesheet-color);
    background: rgba(123, 31, 162, 0.05);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.submitTimesheetBtn {
  margin: 1.25rem auto 0 auto;
  padding: 0.75rem 2rem;
  background: var(--success);
  color: white;
  border: none;
  border-radius: var(--radius-base);
  font-weight: 600;
  font-size: var(--font-base);
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: auto;
  min-width: 200px;

  &:hover:not(:disabled) {
    background: #00E676;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.timesheetSummary {
  margin-top: 1.25rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 0.75rem;
}

.summaryItem {
  text-align: center;
}

.summaryValue {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--timesheet-color);
}

.summaryLabel {
  font-size: var(--font-xs);
  color: var(--text-secondary);
  margin-top: 0.125rem;
}

// Tables
.table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--font-sm);

  thead {
    background: var(--bg-main);
  }

  th {
    padding: 0.75rem;
    text-align: left;
    font-weight: 600;
    font-size: var(--font-xs);
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.3px;
  }

  td {
    padding: 0.75rem;
    border-top: 1px solid var(--border);
  }

  tbody tr:hover {
    background: var(--bg-main);
  }
}

.approvalTable {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  overflow: hidden;
}

.statusBadge {
  display: inline-block;
  padding: 0.125rem 0.5rem;
  border-radius: 10px;
  font-size: var(--font-xs);
  font-weight: 600;

  &.statusPending {
    background: #FFF3E0;
    color: #E65100;
  }

  &.statusApproved {
    background: #E8F5E9;
    color: #1B5E20;
  }

  &.statusRejected {
    background: #FFEBEE;
    color: #B71C1C;
  }
}

.actionButtons {
  display: flex;
  gap: 0.25rem;
}

// Regularization History
.regularizationHistory {
  margin-top: 1.5rem;
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  overflow: visible;
  max-height: none;
  // overflow-y: auto;
}

// NEW: Modal styling
.modalBody {
  padding: 1rem 0;
}

.detailRow {
  display: grid;
  grid-template-columns: 150px 1fr;
  gap: 1rem;
  padding: 0.75rem 0;
  border-bottom: 1px solid var(--border);

  &:last-child {
    border-bottom: none;
  }
}

.detailLabel {
  font-weight: 600;
  color: var(--text-secondary);
  font-size: var(--font-sm);
}

.detailValue {
  color: var(--text-primary);
  font-size: var(--font-sm);
}

.modalFooter {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border);
  margin-top: 1rem;
}

.historyHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  border-bottom: 1px solid var(--border);
  background: var(--bg-main);

  h3 {
    font-size: var(--font-lg);
    font-weight: 600;
  }
}

.historyTable {
  width: 100%;
  border-collapse: collapse;

  th {
    padding: 0.75rem;
    text-align: left;
    font-weight: 600;
    font-size: var(--font-xs);
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.3px;
    background: var(--bg-main);
    border-bottom: 2px solid var(--border);
  }

  td {
    padding: 0.75rem;
    border-bottom: 1px solid var(--border);
  }

  tbody tr:hover {
    background: var(--bg-main);
  }
}

.historyEmpty {
  text-align: center;
  padding: 2rem;
  color: var(--text-secondary);
}

// Approval Tabs
.approvalTabs {
  display: flex;
  border-bottom: 1px solid var(--border);
  margin-bottom: 1rem;
  background: white;
  border-radius: var(--radius-base) var(--radius-base) 0 0;
  overflow: hidden;
}

.approvalTab {
  padding: 0.75rem 1.5rem;
  background: transparent;
  border: none;
  font-weight: 600;
  font-size: var(--font-sm);
  cursor: pointer;
  transition: all 0.2s;
  color: var(--text-secondary);
  position: relative;

  &:hover {
    background: var(--bg-main);
  }

  &.active {
    color: var(--primary);

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--primary);
    }
  }
}

.approvalTabContent {
  display: none;

  &.active {
    display: block;
  }
}

// Responsive
@media (max-width: 768px) {
  .topNav {
    padding: 0 1rem;
    height: 44px;
  }

  .sidebar {
    top: 44px;
    height: calc(100vh - 44px);
    transform: translateX(-100%);

    &.mobileOpen {
      transform: translateX(0);
    }
  }

  .mainContent {
    margin-left: 0;
    margin-top: 44px;
    padding: 1rem;
    width: 100%;
  }

  .actionGrid {
    grid-template-columns: 1fr;
  }

  .welcomeStats {
    flex-direction: column;
    gap: 1rem;
  }

  .timesheetEntries {
    grid-template-columns: 1fr;
  }

  .calendarGrid {
    grid-template-columns: repeat(7, 1fr);
    gap: 3px;
  }

  .formRow3 {
    grid-template-columns: 1fr;
  }

  .radioGroup {
    flex-direction: column;
    gap: 0.75rem;
  }

  .approvalTabs {
    flex-direction: column;
  }

  .approvalTab {
    padding: 0.5rem 1rem;
    text-align: left;
  }
}

// Modal Styles
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  align-items: center;
  justify-content: center;

  &.active {
    display: flex;
  }
}

.modalContent {
  background: white;
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: var(--shadow-lg);
}

.modalHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.25rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--border);

  h3 {
    font-size: var(--font-lg);
    font-weight: 600;
  }
}

.closeBtn {
  background: none;
  border: none;
  font-size: 1.25rem;
  cursor: pointer;
  color: var(--text-secondary);
  padding: 0.25rem;
  border-radius: var(--radius-sm);
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background: var(--bg-main);
    color: var(--text-primary);
  }
}

.timesheetForm {
  .formGroup {
    margin-bottom: 1rem;
  }
}

// ============================================================================
// MISSING CSS STYLES - ADD TO TimesheetModern.module.scss
// ============================================================================
// Add these styles to fix the TypeScript errors in Attendanceview.tsx
// Location: src/webparts/timesheetModern/components/TimesheetModern.module.scss
// ============================================================================

// âœ… ADD THIS SECTION AFTER THE EXISTING .calendarDay STYLES

.calendarDay {
  // ... existing styles ...
  
  // âœ… NEW: Regularized status style
  &.regularized {
    background: #E3F2FD; // Light blue background
    border-color: #2196F3; // Blue border
    position: relative;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: #2196F3;
      border-radius: 4px 4px 0 0;
    }
  }
  
  // âœ… ENHANCED: Present with regularized combination
  &.present.regularized {
    background: linear-gradient(135deg, #E3F2FD 0%, #F0F9F0 100%);
    border-color: #2196F3;
    
    .dayStatus {
      color: #2196F3;
      font-weight: 700;
    }
  }
}

// âœ… ADD THIS TO LEGEND SECTION

.legendColor {
  // ... existing styles ...
  
  // âœ… NEW: Regularized legend color
  &.regularized {
    background: #E3F2FD;
    border-color: #2196F3;
  }
}

// ============================================================================
// ALTERNATIVE: If you want a more distinct regularized appearance
// ============================================================================

/* 
// Option 2: Striped pattern for regularized days
.calendarDay.regularized {
  background: repeating-linear-gradient(
    45deg,
    #E3F2FD,
    #E3F2FD 10px,
    #BBDEFB 10px,
    #BBDEFB 20px
  );
  border: 2px solid #2196F3;
}
*/

/* 
// Option 3: Badge/indicator for regularized
.calendarDay.regularized::after {
  content: 'R';
  position: absolute;
  top: 2px;
  right: 2px;
  background: #2196F3;
  color: white;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  font-size: 10px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}
*/

// ============================================================================
// SUMMARY OF CHANGES
// ============================================================================
/*
1. Added .regularized class for calendar days that have regularization raised
2. Added .present.regularized combination for days that are both present and regularized
3. Added .legendColor.regularized for the legend indicator
4. Added visual indicators (border, background color) to distinguish regularized days
5. Optional badge/stripe patterns provided as alternatives

These styles will:
- Fix TypeScript error: Property 'regularized' does not exist
- Provide clear visual distinction for regularized attendance days
- Match the existing design system (colors, spacing, etc.)
*/